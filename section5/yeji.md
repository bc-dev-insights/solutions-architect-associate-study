# section5: EC2 기초


2. 보안그룹

- 기본포트
```
22 = SSH (Secure Shell) - 리눅스에서 EC2 인스턴스에 로그인 가능
21 = FTP (File Transfer Protocal) - 파일 전송 프로토콜
22 = SFTP (Secure File Transfer Protocal) - 안전한 파일 전송 프로토콜
80 = HTTP - 보안되지 않은 웹사이트 접속
443 = HTTPS - 보안 웹사이트에 엑세스
3389 = RDP (Remote Desktop Protocal) - 윈도우 인스턴스 로그인 시 사용
```

3. SSH 개요

putty > 뿌띠가 아니라 퍼티..

![image](https://github.com/user-attachments/assets/942f3dfd-a4d1-4ff1-a87e-10a76540a43e)

> SSH는 터미널이나 명령줄을 이용해서 원격 머신이나 서버를 제어 할 수 있게 해줌.

ppk의 약자는 Putty Private Key이다. putty프로그램에서 사용하기 위한 키파일 확장자이고, pem은 Privacy Enhanced Mail의 약어로 범용성이 높은 키파일확장자이다.

*pem 파일 쓰도록

- EC2 Instance Connect

브라우저 상에서 EcInstance를 바로 연결할 수 있음

4. EC2 인스턴스 역할 데모

5. 인스턴스 구매 옵션

- 온디맨드 인스턴스 (On-demand Instances) : 필요한만큼 인스턴스를 실행 할 수 있음. 단기적인 워크로드에 사용하기 좋음. 비용을 예측할 수 있고 초 단위로 요금 지불
- 예약 인스턴스 (Reserved Instances) : 1년또는 3년 기간으로 장기적인 워크로드 용. 오랫동안 데이터베이스를 실행계획인 경우 예약 인스턴스가 좋음
- 유연한 인스턴스 (Convertible Reserved Instances) : 시간이 지나 인스턴스 타입을 변경하길 원하는 경우 전환형 예약 인스턴스가 적절.
- 절약 플랜 (Saving Plans) : 1년 또는 3년 기간. 달러 단위로 특정한 사용량을 약정하여 사용하는 방식. (장기 워크로드용)
- 스팟 인스턴스 (Spot Instances) : 아주 짧은 워크로드를 위한 것. 인스턴스들이 언제라도 손실 될 수 있어서 신뢰성이 낮음.
- 용량 예약 (Capacity Reservations) : 원하는 기간동안 특정한 AZ에 용량을 예약할 수 있음.

*EC2 Ondemand*
1. 사용한만큼 지불
- 리눅스 또는 윈도우 : 1분 이후에 초단위로 청구
- 다른 모든 운영체제는 1시간 단위로 청구가 이루어짐
2. 비용이 많이 들지만 바로 지불할 금액은 없음
3. 장기적인 약정도 필요없음.
* 단기적이고 중단 없는 워크로드가 필요할 때, 또는 애플리케이션의 거등을 예측할 수 없을때 가장 추천

*EC2 Reserved Instances(예약 인스턴스)*
1. 예약 인스턴스는 온디맨드에 비해 72% 할인을 제공
2. 특정한 인스턴스 속성을 예약 (인스턴스 유형,리젼,테넌시,OS)
3. 예약 기간을 1년이나 3년으로 지정해서 할인을 더 받을 수 있음.
4. 범위를 특정한 리전이나 존으로 할 수 있습니다. 즉 특정한 AZ에 있는 예약된 용량을 의미
5. 선결제, 부분 선결제, 선결제 없음 중에 선택할 수 있음. (물론 선결제시 최대 할인 가능)
6. 범위를 기준으로 범위를 특정한 리전이나 존으로 할 수 있음. (즉 특정한AZ에 있는 예약된 용량 의미)
* 사용량이 일정한 애플리케이션에 예약 인스턴스 사용하는 것을 추천
* 예를들면 데이터베이스

*Convertible Reserved Instance(전환형 예약 인스턴스)*
1. 인스턴스 타입, 인스턴스 패밀리, 운영체제, 범위, 테넌시 변경 가능
2. 유연성이 크기 때문에 할인은 더 적음 (최대 66%할인)

*EC2 Savings Plans (EC2 절약 플랜)*
1. 장기간 사용시 할인 가능 (예약 인스턴스와 마찬가지로 70% 할인 가능)
2. 1~3년 시간당 10달러 약정. 사용량이 한도를 넘어가면 절약플랜은 온디맨드 가격으로 청구.
3. 사용량이 한도를 넘어서면 절약 플랜은 온디맨드 가격으로 청구
4. 특정한 인스턴스와 패밀리 리전으로 고정됨.

*EC2 Spot Instances*
1. 스폿 인스턴스는 할인 폭이 제일 커서 온디맨드에 비해 최대 90%까지 할인이됩니다
2. 가격을 넘게 되면 인스턴스가 손실되기 때문에 언제라도 인스턴스가 손실될 수 있음

* AWS에서 가장 비용효율적인 인스턴스임. 인스턴스가 고장에 대한 회복력이 있으면 매우 유용했을 거임
* 배치 작업이나 데이터 분석, 이미지 처리, 모든 종류의 분산형 워크로드 또는 시작 시간과 종료 시간이 유연한 워크로드 추천


 
